#include <SimbleeBLE.h>
#include <Adafruit_GPS.h>
#include <SoftwareSerial.h>

SoftwareSerial GPS(5, 6);

Adafruit_GPS GPS(&Serial1);

#define PMTK_SET_NMEA_UPDATE_1HZ  "$PMTK220,1000*1F"
#define PMTK_SET_NMEA_UPDATE_5HZ  "$PMTK220,200*2C"
#define PMTK_SET_NMEA_UPDATE_10HZ "$PMTK220,100*2F"

// turn on only the second sentence (GPRMC)
#define PMTK_SET_NMEA_OUTPUT_RMCONLY "$PMTK314,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0*29"
// turn on GPRMC and GGA
#define PMTK_SET_NMEA_OUTPUT_RMCGGA "$PMTK314,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0*28"
// turn on ALL THE DATA
#define PMTK_SET_NMEA_OUTPUT_ALLDATA "$PMTK314,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0*28"
// turn off output
#define PMTK_SET_NMEA_OUTPUT_OFF "$PMTK314,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0*28"

#define PMTK_Q_RELEASE "$PMTK605*31"

void setup() {
  Serial.begin(115200);
  GPS.begin(9600);

  delay(2000);

  Serial.print("Get version...");
  GPS.println(PMTK_Q_RELEASE);
  GPS.println(PMTK_SET_NMEA_OUTPUT_ALLDATA);
  GPS.println(PMTK_SET_NMEA_UPDATE_1HZ);

  SimbleeBLE.advertisementData = "Spacegrant Jogger Logger";
  SimbleeBLE.begin();
}

void loop() {
  // put your main code here, to run repeatedly:

}
